# 为什么要分库分表？分别解决了什么问题？（这种问法很蠢）
分库分表的目的就是为了解决由于数据量过大而导致的数据库性能降低的问题。

将原来独立的数据库拆分为若干数据库，降数据大表拆分成若干数据表，使得单一数据库、单一数据表的数据量变小，从而达到提升数据库性能的目的。

如果不进行数据库拆分，大量数据访问都集中在单台机器上，对磁盘IO、CPU负载都会产生很大压力并直接影响业务操作的性能。

分库：单机的容量可以扩展但是数据库的连接数时有限的，在高并发场景下多个业务对同一个数据库操作很容易将连接数耗尽导致`too many connections`报错，数据库无法正常访问。

*以下命令可以查看最大连接数。*

```show variables like '%max_connections'```

分表：慢SQL的各种原因之中，唯独数据量大时MySQL无法通过自身优化解决的。InnoDB引擎在数据量很大的时候的B+树层级变高，磁盘IO变多。分表可以减小单表的数据量以优化查询性能。